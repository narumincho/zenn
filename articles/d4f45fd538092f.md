---
title: "Dart ã§æ¡ä»¶ã‚’æº€ãŸã—ãŸã‚‚ã®ã ã‘ãŒå…¥ã‚‹å‹ã‚’ä½œã‚‹"
emoji: "ğŸ¦"
type: "tech"
topics:
  - "dart"
published: true
published_at: "2022-06-17 10:08"
---

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¯å‰å¾Œã«ç©ºç™½ãŒå…¥ã‚‰ãšã«, 1æ–‡å­—ä»¥ä¸Š 50æ–‡å­—ä»¥å†…ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã™ã‚‹.

ãã†ã„ã†ã¨ãã«, ã“ã®ã‚ˆã†ã«æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹å‹ (class) ã‚’ä½œæˆã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹ã®ç¢ºèªã—å¿˜ã‚ŒãŒæ¸›ã‚‹.

```dart:account_name.dart
import 'package:meta/meta.dart';

/// ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå. æ–‡å­—æ•°æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ä¿è¨¼ã•ã‚Œã‚‹
@immutable
class AccountName {
  final String value;

  const AccountName._(this.value);

  /// `String` ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’ä½œæˆã™ã‚‹. æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ãªã„ã‚‚ã®ã¯ `null` ãŒè¿”ã•ã‚Œã‚‹
  static AccountName? fromString(final String raw) {
    final trimmed = raw.trim();
    if (trimmed.isEmpty || trimmed.length >= 50) {
      return null;
    }
    return AccountName._(trimmed);
  }

  /// String` ã‹ã‚‰ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’ä½œæˆã™ã‚‹. æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ãªã„ã‚‚ã®ãŒæ¸¡ã•ã‚ŒãŸã¨ãã«ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹
  static AccountName fromStringOrThrow(final String raw) {
    final normalized = fromString(raw);
    if (normalized == null) {
      throw Exception("$raw is invalid account name");
    }
    return normalized;
  }

  @override
  bool operator ==(final Object other) {
    return other is AccountName && value == other.value;
  }

  @override
  int get hashCode => value.hashCode;

  @override
  String toString() {
    return "AccountName($value)";
  }
}
```

# è§£èª¬
```dart
const AccountName._(this.value);
```
ã®éƒ¨åˆ†ã§, private constructor ã‚’ä½œæˆã—ã¦ã„ã‚‹ãŸã‚, å¤–éƒ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ `AccountName` ã‚’ç›´æ¥ä½œæˆã™ã‚‹ã“ã¨ã¯ã§ããªããªã£ã¦ã„ã‚‹

```dart:use.dart
import 'account_name.dart';

void main() {
  final rafyaAccountName = AccountName("rafya");
}
```

![error](https://storage.googleapis.com/zenn-user-upload/40a159000dd8-20220617.png)


ã“ã®ã‚ˆã†ã«ä½¿ã†
```dart
import 'account_name.dart';

void main() {
  final rafyaAccountName = AccountName.fromString("rafya");
  if (rafyaAccountName == null) {
    print("ä¸æ­£ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã§ã™");
    return;
  }
  print(rafyaAccountName.value); // rafya
}
```