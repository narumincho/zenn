---
title: "deno fmt ã‚’ã‚³ãƒ¼ãƒ‰ã®ä¸­ã§å‘¼ã¶"
emoji: "ğŸ™Œ"
type: "tech"
topics:
  - "deno"
published: true
published_at: "2022-09-21 15:07"
---

deno ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ `1.25.3` æ™‚ç‚¹ã®è©±

```ts:format.ts
const process = Deno.run({
  cmd: [Deno.execPath(), "fmt", "-"],
  stdin: "piped",
  stdout: "piped",
});

await process.stdin.write(
  new TextEncoder().encode(
    "const a: number =28; console.log(20,(3+(4      *  10))     )"
  )
);
process.stdin.writable.close();

console.log(new TextDecoder().decode(await process.output()));

```

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
```ps1
deno run --allow-run --allow-read ./format.ts
```


### å‡ºåŠ›
```
const a: number = 28;
console.log(20, 3 + (4 * 10));

```

`Deno.run` ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚, `--allow-run` ã®ãƒ•ãƒ©ã‚°ãŒå¿…è¦. ãã®ãŸã‚ Deno Deploy ã§ã¯å‹•ã‹ãªã„.
![TypeError: Deno.run is not a function](https://storage.googleapis.com/zenn-user-upload/3d6f83b22e32-20220921.png)

Runtime API ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Œã°, `--allow-run` ã®ãƒ•ãƒ©ã‚°ã¯ã¤ã‘ãªãã¦è‰¯ããªã‚Šãã†.

â†“ è¿½åŠ ã™ã‚‹ã‹ã®è­°è«–
https://github.com/denoland/deno/issues/10731


## Prettier ã®ã»ã†ãŒç°¡å˜ã«å‘¼ã³å‡ºã›ãŸ

```ts
// @deno-types="https://cdn.skypack.dev/prettier@2.7.1?dts"
import prettier from "https://unpkg.com/prettier@2.7.1/esm/standalone.mjs";
import parserTypeScript from "https://unpkg.com/prettier@2.7.1/esm/parser-typescript.mjs";

console.log(
  prettier.format(
    "const a: number =28; console.log(20,(3+(4      *  10))     )",
    {
      parser: "typescript",
      plugins: [parserTypeScript],
    }
  )
);

```

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
```ps1
deno run ./format.ts
```


### å‡ºåŠ›
```
const a: number = 28;
console.log(20, 3 + 4 * 10);

```

Prettier ã¯ deno fmt ã«æ¯”ã¹ã¦ ä½™è¨ˆãªã‚«ãƒƒã‚³ã‚’ æ›´ã«å–ã‚Šé™¤ã„ã¦ãã‚Œã‚‹